# Active Context: Version CLI Utility

## Current Work Focus
**GITHUB ACTIONS TEST FAILURES FIXED (v1.4.1)** - Successfully resolved GitHub Actions cross-platform test failures by fixing git tag access and macOS test expectations. Updated .github/workflows/cross-platform-test.yml to use fetch-depth: 0 for proper git tag access during CI/CD execution. Fixed pkg/version/platform_test.go to accept actual macOS version numbers instead of requiring "darwin" prefix, aligning with correct implementation behavior. All tests now pass locally and GitHub Actions should pass on all platforms. Version bumped to v1.4.1 with automatic packaging file updates. Ready for commit, tag, and push to release test fixes.

## Recent Changes
- **NEW (Latest)**: GitHub Actions Test Failures Fix (v1.4.1)
  - **COMPLETED**: Fixed GitHub Actions cross-platform test workflow to properly fetch git tags
  - **COMPLETED**: Updated .github/workflows/cross-platform-test.yml to use fetch-depth: 0 in checkout actions
  - **COMPLETED**: Resolved "No version tags found" errors in git-dependent tests on GitHub Actions
  - **COMPLETED**: Fixed macOS test expectation to accept actual version numbers instead of "darwin" prefix
  - **COMPLETED**: Updated pkg/version/platform_test.go to align with correct implementation behavior
  - **COMPLETED**: All tests now pass locally with proper git tag access and correct test expectations
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of both fixes
  - **COMPLETED**: Version bumped to v1.4.1 with automatic packaging file updates
  - **COMPLETED**: Ready for commit, tag, and push to release test fixes
- **NEW (Previous)**: New Library API Methods
  - **COMPLETED**: Added GetVersionType() function that returns version type with optional git fallback
  - **COMPLETED**: Added GetBuildTypeFromVersion() function that returns build type with optional git fallback
  - **COMPLETED**: Both methods accept empty string to automatically retrieve version from git tags
  - **COMPLETED**: Added comprehensive test coverage with both version string and git integration testing
  - **COMPLETED**: Updated Library.md with API documentation and usage examples
  - **COMPLETED**: Updated CHANGELOG.md with detailed feature documentation
  - **COMPLETED**: Enables library consumers to get version type and build type information programmatically
  - **COMPLETED**: Provides consistent API for pre-push project and other consumers needing version type/build type data
- **NEW (Previous)**: Git Version Integration Feature (v1.3.0)
  - **COMPLETED**: Added GetVersion() function to retrieve version from git tags without 'v' prefix
  - **COMPLETED**: Added GetVersionWithPrefix() function to retrieve version with 'v' prefix preserved
  - **COMPLETED**: Implemented GitError type with structured error handling
  - **COMPLETED**: Added helper functions IsGitNotFound(), IsNotGitRepo(), and IsNoGitTags()
  - **COMPLETED**: Created comprehensive test coverage in pkg/version/git_test.go
  - **COMPLETED**: Updated docs/Library.md with git integration documentation and examples
  - **COMPLETED**: Updated README.md with library usage examples demonstrating git integration
  - **COMPLETED**: Created example implementation in examples/git-version/main.go
  - **COMPLETED**: Updated CHANGELOG.md with detailed feature documentation
  - **COMPLETED**: Version bumped to v1.3.0 with automatic packaging file updates
  - **COMPLETED**: All tests pass with race detection enabled
  - **COMPLETED**: Ready for release with complete git integration feature
- **NEW (Previous)**: Version Sort Order Bug Fix (v1.2.7)
  - **COMPLETED**: Fixed Type constant ordering to put TypePrerelease before TypeRelease
  - **COMPLETED**: Corrected version precedence: prerelease < release < postrelease < intermediate
  - **COMPLETED**: Added comprehensive test TestSortReleaseVsPrerelease for the exact scenario
  - **COMPLETED**: Updated all existing tests to reflect correct version precedence
  - **COMPLETED**: Updated documentation (Library.md, Project-specification.md, BNF-grammar.md)
  - **COMPLETED**: Updated CHANGELOG.md with detailed bug fix documentation
  - **COMPLETED**: Version bumped to v1.2.7 with automatic packaging file updates
  - **COMPLETED**: All tests pass with race detection enabled
  - **COMPLETED**: Ready for release with complete bug fix
- **NEW (Previous)**: Static Build Configuration Fix (v1.2.6)
  - **COMPLETED**: Added CGO_ENABLED=0 environment variable to GoReleaser configuration
  - **COMPLETED**: Added -extldflags "-static" to ldflags for static binary creation
  - **COMPLETED**: Ensures Linux and Darwin binaries are completely static
  - **COMPLETED**: No external library dependencies in built binaries
  - **COMPLETED**: Updated VERSION file to v1.2.6 for static build fix release
  - **COMPLETED**: Updated Windows Scoop configuration with new version and URLs
  - **COMPLETED**: Updated macOS Homebrew formula with new version URLs
  - **COMPLETED**: Ready for commit, tag, and push to release static build fix
- **NEW (Previous)**: macOS Version Detection Bug Fix
  - **COMPLETED**: Fixed getDarwinVersion() function to return actual macOS version numbers
  - **COMPLETED**: Updated getDarwinVersion() to use `sw_vers -productVersion` command
  - **COMPLETED**: Added proper error handling with fallback to MACOSX_DEPLOYMENT_TARGET
  - **COMPLETED**: Now returns actual macOS version (e.g., "14.0", "15.0") instead of "darwin"
  - **COMPLETED**: Maintains backward compatibility with existing fallback mechanisms
  - **COMPLETED**: All tests pass successfully with the fix
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation
  - **COMPLETED**: Resolves GitHub issue #2: macOS OS Version Detection Returns "darwin" Instead of Numeric Version
  - **COMPLETED**: Ready for commit and push to resolve the GitHub issue
- **NEW (Previous)**: Darwin Platform Naming Consistency Fix
  - **COMPLETED**: Fixed GoReleaser archive naming template to use darwin instead of macos
  - **COMPLETED**: Updated installer script creation to use darwin instead of macos
  - **COMPLETED**: Renamed installer files from version-macos-* to version-darwin-*
  - **COMPLETED**: Updated packaging directory from macos/ to darwin/
  - **COMPLETED**: Updated all documentation to use darwin consistently
  - **COMPLETED**: Updated test files and Docker files to use darwin naming
  - **COMPLETED**: Updated memory bank files to reflect darwin naming consistency
  - **COMPLETED**: Version bumped to v1.2.3 for darwin naming consistency fix
  - **COMPLETED**: Binary built successfully with new version
  - **COMPLETED**: Ready for git commit, tag, and push
- **NEW (Previous)**: CI/CD Pipeline Optimization - Removed Cross-Compilation Tests
  - **COMPLETED**: Removed cross-compilation test step from .github/workflows/cross-platform-test.yml
  - **COMPLETED**: Maintained Docker-based cross-platform testing for Ubuntu, Debian, and Windows
  - **COMPLETED**: Updated test/cross-platform/README.md to reflect Docker-focused approach
  - **COMPLETED**: Enhanced CI/CD reliability by removing complex cross-compilation dependencies
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of changes
  - **COMPLETED**: Version bumped to v1.2.2 for CI/CD optimization release
  - **COMPLETED**: Ready for streamlined CI/CD workflow with improved maintainability
- **NEW (Previous)**: Buildfab Migration - Unified Build System + Parallel Cross-Platform Testing
  - **COMPLETED**: Migrated from custom bash scripts to buildfab utility for unified build management
  - **COMPLETED**: Updated .project.yml with comprehensive build stages (pre-push, build, test, release)
  - **COMPLETED**: Added buildfab actions for Conan, CMake, GoReleaser, and cross-platform testing
  - **COMPLETED**: Implemented parallel cross-platform testing with individual platform actions
  - **COMPLETED**: Each platform test (test-linux-ubuntu, test-linux-debian, test-windows, test-darwin) runs Docker build/run directly
  - **COMPLETED**: Leveraged buildfab's native parallel execution capabilities for simultaneous platform testing
  - **COMPLETED**: Updated documentation to use buildfab commands instead of run-cross-platform-tests.sh script
  - **COMPLETED**: Removed simple-cross-platform-test.sh script (redundant with CMake cross-compilation)
  - **COMPLETED**: Updated Developer-workflow.md with complete buildfab workflow documentation
  - **COMPLETED**: Updated README.md with buildfab installation and usage instructions
  - **COMPLETED**: Added pre-push hook setup documentation for developers
  - **COMPLETED**: Added buildfab ecosystem documentation to README and Developer Workflow
  - **COMPLETED**: Fixed install-binary action failure by removing non-existent config file dependencies
  - **COMPLETED**: Added check-binaries action for simplified test stage verification
  - **COMPLETED**: Updated CMakeLists.txt to remove config/version.yaml file copy operations
  - **COMPLETED**: Preserved all existing functionality while gaining buildfab orchestration capabilities
  - **COMPLETED**: Ready for buildfab-based development workflow with unified build management
- **NEW (Previous)**: Complete Platform Test Fixes - GitHub Actions + Docker + Local
  - **COMPLETED**: Fixed GitHub Actions build command syntax in cross-platform test workflow
  - **COMPLETED**: Changed `go build -o bin/version cmd/version/*.go` to `go build -o bin/version ./cmd/version`
  - **COMPLETED**: Fixed malformed import path error with invalid `*` character in build commands
  - **COMPLETED**: Updated all cross-platform build commands to use proper Go build syntax
  - **COMPLETED**: Fixed Docker build context issues in cross-platform test suite
  - **COMPLETED**: Updated Docker build commands to run from project root with correct context
  - **COMPLETED**: Fixed Dockerfile paths to use proper relative paths from project root
  - **COMPLETED**: Updated all Dockerfiles (Ubuntu, Debian, Windows) to use correct file paths
  - **COMPLETED**: Rebuilt all platform binaries with latest platform detection code
  - **COMPLETED**: Fixed GitHub Actions Docker build commands to match local script approach
  - **COMPLETED**: Verified all cross-platform tests pass successfully on Ubuntu, Debian, and Windows
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of all fixes
  - **COMPLETED**: Updated memory bank files to reflect current work focus
  - **COMPLETED**: Version bumped to v1.1.1 with all platform test fixes
  - **COMPLETED**: Ready for v1.1.1 release with complete platform test infrastructure
- **NEW (Previous)**: Platform Detection Feature Implementation
  - **COMPLETED**: Added new CLI commands for platform detection (platform, arch, os, os_version, cpu)
  - **COMPLETED**: Enhanced library API with platform detection functions using Go's built-in capabilities
  - **COMPLETED**: Implemented Linux distribution detection via /etc/os-release parsing
  - **COMPLETED**: Created comprehensive cross-platform testing infrastructure
  - **COMPLETED**: Added Docker-based testing for Ubuntu, Debian, and Windows (Wine)
  - **COMPLETED**: Implemented cross-compilation testing for all target platforms
  - **COMPLETED**: Integrated with GitHub Actions CI/CD pipeline
  - **COMPLETED**: Created comprehensive documentation and testing guides
  - **COMPLETED**: Updated CHANGELOG.md with detailed feature documentation
  - **COMPLETED**: Version bumped to v1.1.0 with all platform detection features
- **NEW (Previous)**: Version Management Rules Enhancement
  - **COMPLETED**: Enhanced version management rules to ensure proper packaging updates
  - **COMPLETED**: Updated `rule-versioning.mdc` with mandatory VERSION file and packaging updates
  - **COMPLETED**: Updated `rule-complete-changes.mdc` with packaging files information in workflow
  - **COMPLETED**: Added clear requirements for Windows Scoop and macOS Homebrew configuration updates
  - **COMPLETED**: Enhanced CHANGELOG.md with comprehensive documentation of rule improvements
  - **COMPLETED**: Updated memory bank files to reflect current work focus
  - **COMPLETED**: Ready for next development cycle
- **NEW (v0.8.14-v0.8.17)**: GitHub Actions CI/CD Pipeline Implementation
  - **COMPLETED**: Created comprehensive CI workflow (`.github/workflows/ci.yml`) with three-phase organization
  - **COMPLETED**: Build Phase: Pre-builds `bin/version` for testing, uses Conan for golang package management
  - **COMPLETED**: Test Phase: Runs Go tests with race detection and linting, no Conan setup required
  - **COMPLETED**: Package Phase: Builds all platforms, creates installer scripts, runs GoReleaser dry-run
  - **COMPLETED**: Updated release workflow (`.github/workflows/release.yml`) to use `buildtools/build-and-package.sh release`
  - **COMPLETED**: Implemented local golang Conan recipe (`conanfile-golang.py`) for Go 1.23.0
  - **COMPLETED**: Created golang package check script (`scripts/check-golang-conan`)
  - **COMPLETED**: Updated build scripts to include automatic golang package creation
  - **COMPLETED**: Added Go module caching across all phases for improved performance
  - **COMPLETED**: Added comprehensive CI/CD documentation (`docs/Deploy.md`)
  - **COMPLETED**: Integrated Conan 2.0 package management for Go toolchain dependencies
  - **COMPLETED**: Automated testing with race detection and linting
  - **COMPLETED**: Build artifact generation and package testing with GoReleaser dry-run
  - **COMPLETED**: Fixed git remote priority issue to ensure consistent behavior across environments
  - **COMPLETED**: Updated test expectations to match origin remote behavior
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive CI/CD improvements
  - **COMPLETED**: Ready for v0.8.17 release
- **NEW (v0.8.11)**: Auto-Download Version Utility Implementation
  - **COMPLETED**: Implemented automatic download functionality for version utility from GitHub releases
  - **COMPLETED**: Added three-tier priority order: built utility → auto-download → git describe fallback
  - **COMPLETED**: Implemented platform and architecture detection (linux/darwin, amd64/arm64)
  - **COMPLETED**: Used latest release URLs without version numbers for consistent downloads
  - **COMPLETED**: Simplified download process using `wget -O - url | INSTALL_DIR=./scripts sh` pipe approach
  - **COMPLETED**: Updated all build scripts (build-and-package.sh, build-conan.sh, check-version-status, CMakeLists.txt)
  - **COMPLETED**: Added graceful error handling with fallback to git describe if download fails
  - **COMPLETED**: Enabled zero-setup development and CI/CD environments
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of auto-download feature
  - **COMPLETED**: Ready for v0.8.11 release
- **NEW (v0.8.10)**: Bump Functionality Simplified for Build Scripts
  - **COMPLETED**: Removed redundant `scripts/version-bump` wrapper script (only used in documentation examples)
  - **COMPLETED**: Updated all references to use `scripts/version bump` directly
  - **COMPLETED**: Updated `scripts/check-version-status` to suggest direct version utility usage
  - **COMPLETED**: Updated documentation to show correct `scripts/version` usage patterns
  - **COMPLETED**: Added comprehensive bump type support (major, minor, patch, pre, alpha, beta, rc, fix, next, post, feat, smart)
  - **COMPLETED**: Updated help text and examples to reflect build script usage patterns
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of simplifications
  - **COMPLETED**: Ready for v0.8.10 release
- **FIXED (v0.8.9)**: Bump Command Argument Parsing
  - **COMPLETED**: Fixed bump command argument parsing logic to correctly handle single argument as either version or bump type
  - **COMPLETED**: Resolved issue where `version bump patch` was incorrectly treated as version instead of bump type
  - **COMPLETED**: Enhanced argument validation to accept valid versions or bump types as single argument
  - **COMPLETED**: Improved error messages to clearly indicate whether argument should be version or bump type
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of the fix
  - **COMPLETED**: Tested all argument combinations to ensure correct behavior
  - **COMPLETED**: Ready for v0.8.9 release
- **NEW (v0.8.9)**: Bump Functionality Implementation
  - **COMPLETED**: Implemented comprehensive version bumping functionality in pkg/version library
  - **COMPLETED**: Added BumpType enum with major, minor, patch, prerelease, postrelease, intermediate, smart types
  - **COMPLETED**: Created BumpResult struct with original version, bumped version, bump type, and applied rule
  - **COMPLETED**: Implemented intelligent smart bump mode that detects current version type and applies appropriate increment
  - **COMPLETED**: Added complex suffix handling for prerelease, postrelease, and intermediate versions
  - **COMPLETED**: Created separate bump.go file for CLI integration with proper code decomposition
  - **COMPLETED**: Decomposed bump functionality from pkg/version/version.go to pkg/version/bump.go for better code organization
  - **COMPLETED**: Added comprehensive test coverage with 100+ test cases for all bump scenarios
  - **COMPLETED**: Integrated bump command into CLI main.go with argument validation and help text
  - **COMPLETED**: Updated help text and README.md with detailed bump command examples
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive bump functionality documentation
  - **COMPLETED**: Fixed version status script comparison logic to properly normalize version strings
  - **COMPLETED**: Ready for v0.8.9 release
- **NEW (v0.8.7)**: GoReleaser Artifact Naming and Documentation Updates
  - **COMPLETED**: Updated .goreleaser.yml to remove version prefix from archive names
  - **COMPLETED**: Changed archive naming from `version-{version}-{os}-{arch}` to `version-{os}-{arch}` format
  - **COMPLETED**: Updated installer script naming from `version-{version}-{os}-{arch}-install.sh` to `version-{os}-{arch}-install.sh` format
  - **COMPLETED**: Fixed GoReleaser archive name template to use consistent darwin naming (removed darwin→macos rename)
  - **COMPLETED**: Updated installer creation scripts to use darwin instead of macos platform name
  - **COMPLETED**: Updated README.md installation examples to reference darwin artifacts and correct GitHub URLs
  - **COMPLETED**: Updated all documentation with correct GitHub download URLs for latest release scripts
  - **COMPLETED**: Tested GoReleaser dry-run to verify artifact naming changes work correctly
  - **COMPLETED**: Updated CHANGELOG.md with comprehensive documentation of changes
  - **COMPLETED**: Updated memory bank files to reflect all changes
  - **COMPLETED**: Ready for v0.8.7 release
- **NEW (v0.8.6)**: Modules Command Implementation
  - **COMPLETED**: Added new `modules` command to CLI main.go command switch
  - **COMPLETED**: Implemented getModules() function in git.go with .project.yml and git fallback support
  - **COMPLETED**: Added getModulesFromCustomConfig() function for custom config file support
  - **COMPLETED**: Updated help text to include modules command with proper description
  - **COMPLETED**: Added comprehensive tests for single and multiple module scenarios
  - **COMPLETED**: Updated CHANGELOG.md with new modules command feature
  - **COMPLETED**: Verified functionality with manual testing (single module, multiple modules, --git flag, --config flag)
  - **COMPLETED**: Ready for v0.8.6 release
- **FIXED (v0.8.3)**: Install Command Documentation Format
  - **COMPLETED**: Fixed README.md to show correct `INSTALL_DIR=install_dir` format instead of `APP_DIR` for simple installers
  - **COMPLETED**: Updated both Linux and macOS installation sections in README.md
  - **COMPLETED**: Enhanced build script output to show both argument and environment variable formats
  - **COMPLETED**: Verified installer template correctly handles `INSTALL_DIR` environment variable
  - **COMPLETED**: Ensured documentation consistency across all installation methods
  - **COMPLETED**: Updated CHANGELOG.md with all missing entries from v0.6.1 through v0.8.3
  - **COMPLETED**: Fixed all changelog dates using actual git tag release dates from git log
  - **COMPLETED**: Created comprehensive changelog management rule (rule-changelog.mdc)
  - **COMPLETED**: Updated main rules.mdc to mandate changelog updates for any changes
- **FIXED (v0.8.2)**: GoReleaser Old Installers Issue
  - **COMPLETED**: Fixed GoReleaser publishing old version installers by cleaning installers directory before creating new ones
  - **COMPLETED**: Added cleanup step in create_install_scripts() function to remove old installers
  - **COMPLETED**: Enhanced clean_build function to be more explicit about cleaning installers
  - **COMPLETED**: Verified build process now only publishes current version installers
  - **COMPLETED**: Tested dry-run process to confirm fix works correctly
- **FIXED (v0.8.1)**: Packaging and Release Clean Function
  - **COMPLETED**: Fixed clean_build function in build-and-package.sh to properly clean installers/ directory
  - **COMPLETED**: Added .goreleaser-binaries/ directory to clean function for complete cleanup
  - **COMPLETED**: Verified clean function removes all build artifacts (dist/, bin/, installers/, .goreleaser-binaries/)
  - **COMPLETED**: Ensured installers directory is empty before release as required
- **NEW (v0.8.0)**: .project.yml Configuration File Support
  - **COMPLETED**: Support for .project.yml file in project root for project name and module configuration
  - **COMPLETED**: Fallback to git-based detection when .project.yml doesn't exist
  - **COMPLETED**: Integration with other build utilities for consistent project naming
  - **COMPLETED**: CLI options for configuration control (--config FILE, --git)
  - **COMPLETED**: YAML parsing with comprehensive validation and error handling
  - **COMPLETED**: Test configuration files for different scenarios
  - **COMPLETED**: Updated documentation with configuration examples
- **NEW FEATURES PLANNED**: Bump Command Implementation
  - **PLANNED**: New `bump` command with version type parameter support
  - **PLANNED**: Intelligent version increment based on current version state
  - **PLANNED**: Complex bump rules supporting major, minor, patch, prerelease, postrelease, intermediate
  - **PLANNED**: Smart increment when no version type specified (increment last version number)
- **NEW (v0.7.0)**: Self-Building Version Utility Implementation
  - **COMPLETED**: Implemented self-building capability where version utility uses its own built binary
  - **COMPLETED**: Updated CMakeLists.txt to use built version utility instead of git describe
  - **COMPLETED**: Modified build scripts to use built version utility for version detection
  - **COMPLETED**: Updated pre-push hook to use built version utility for version checking
  - **COMPLETED**: Tested self-building process to ensure it works correctly
- **NEW (v0.6.0)**: Script Rename and Documentation Updates
  - **COMPLETED**: Renamed `build-with-conan.sh` to `build-and-package.sh` for better semantic clarity
  - **COMPLETED**: Updated all documentation references to use new script name
  - **COMPLETED**: Enhanced Build.md with main build script section
  - **COMPLETED**: Updated developer workflow documentation with new script name
  - **COMPLETED**: Updated docs/Project-specification.md main build scripts list
- **NEW (v0.6.1)**: License and BNF Grammar Documentation Fixes
  - **COMPLETED**: Fixed license inconsistencies - updated all documentation to reference Apache 2.0 License
  - **COMPLETED**: Created comprehensive BNF grammar specification document (docs/BNF-grammar.md)
  - **COMPLETED**: Updated project documentation to reference BNF grammar specification
  - **COMPLETED**: Fixed license mentions in README.md, packaging docs, and library docs
- **COMPLETED**: Full Go implementation with custom regex-based version parser
- **COMPLETED**: Colored output system matching bash script patterns (error=red, success=green, debug=yellow)
- **COMPLETED**: All CLI commands (project, module, version, release, full, check, check-greatest, type, build-type, sort)
- **COMPLETED**: Git integration for version extraction and project information
- **COMPLETED**: Version sorting and comparison with correct precedence rules
- **COMPLETED**: Comprehensive test suite with 25.7% coverage, all tests passing
- **COMPLETED**: CMake build system integration with cross-platform support
- **COMPLETED**: Static binary builds for Linux/amd64 with full functionality
- **COMPLETED**: README.md and CHANGELOG.md documentation
- **COMPLETED**: Memory bank updates reflecting final implementation
- **FIXED**: Version type command now returns lowercase output (release, prerelease, postrelease, intermediate)
- **FIXED**: Prerelease regex updated to use ~ delimiter for RPM naming rules compliance
- **FIXED**: Added git tag conversion from x.y.z-(remainder) to x.y.z~(remainder) format
- **FIXED**: Updated all tests to reflect corrected behavior and regex patterns
- **NEW (v0.5.8)**: Version Management System
  - **COMPLETED**: Created separate versioning rule file (rule-versioning.mdc)
  - **COMPLETED**: Implemented version status checking script (scripts/check-version-status)
  - **COMPLETED**: Automated version validation before changes
  - **COMPLETED**: User-friendly version increment suggestions
  - **COMPLETED**: Integration with existing developer workflow
  - **FIXED**: Pre-push hook now only checks version when pushing current branch
  - **FIXED**: Version validation only applies to tags being pushed, not all existing tags
- **NEW**: Refactored core functionality into reusable library package (pkg/version)
- **NEW**: Created comprehensive library API with exported types and functions
- **NEW**: Added library documentation (docs/Library.md) with usage examples
- **NEW**: Created minimal example demonstrating library usage (examples/basic/)
- **NEW**: Updated CLI to use library package while maintaining full compatibility
- **FIXED (v0.5.1)**: Conan build script critical issues resolved for reliable local builds
- **FIXED (v0.5.1)**: Version detection now uses git describe instead of non-existent scripts
- **FIXED (v0.5.1)**: Source directory references corrected from src/ to cmd/version/
- **FIXED (v0.5.1)**: Conan file path issues resolved for proper dependency management
- **FIXED (v0.5.1)**: CMake preset path issues fixed for correct build configuration
- **FIXED (v0.5.1)**: Build directory path corrected for proper binary placement
- **FIXED (v0.5.1)**: Static build target working directory fixed
- **VERIFIED (v0.5.2)**: GoReleaser build system with Conan hooks fully functional and tested
- **VERIFIED (v0.5.2)**: Cross-platform builds working for all target platforms (Linux, Windows, macOS)
- **VERIFIED (v0.5.2)**: Conan profile detection respects existing profiles without overwriting
- **VERIFIED (v0.5.2)**: Apache 2.0 license properly integrated for distribution
- **NEW (v0.5.3)**: Makeself self-extracting installer system for Linux and macOS
- **NEW (v0.5.3)**: Scoop package manager integration for Windows distribution
- **NEW (v0.5.3)**: Clean installer naming without SNAPSHOT and hex abbreviations
- **NEW (v0.5.3)**: Professional installation experience with branded headers
- **NEW (v0.5.3)**: No-sudo installation approach - users run with sudo if needed
- **NEW (v0.5.5)**: Homebrew tap integration for macOS distribution
- **NEW (v0.5.5)**: Comprehensive exit code compliance tests for CLI utility
- **NEW (v0.5.5)**: Performance testing framework with large version lists
- **NEW (v0.5.5)**: Updated documentation to reflect Go conventions and current implementation
- **COMPLETED (v0.5.5)**: All documentation updates to reflect current implementation
- **COMPLETED (v0.5.5)**: Exit code compliance testing implemented and passing
- **COMPLETED (v0.5.5)**: Performance testing framework with 10k+ versions working correctly
- **COMPLETED (v0.5.5)**: Benchmark testing for sorting and validation operations
- **COMPLETED (v0.5.5)**: Realistic test data generation with diverse version patterns
- **COMPLETED (v0.5.5)**: Performance assertions with time-based limits (5-second limit for 10k versions)
- **COMPLETED (v0.5.5)**: Homebrew tap formula and GoReleaser integration ready
- **RELEASED (v0.5.7)**: Successfully published release v0.5.7 with all distribution channels
- **RELEASED (v0.5.7)**: GitHub release with cross-platform binaries and checksums
- **RELEASED (v0.5.7)**: Homebrew tap and Scoop bucket successfully updated
- **RELEASED (v0.5.7)**: All installation documentation updated with correct repository URLs
- **NEW (v0.5.8)**: Developer workflow documentation with complete release process
- **NEW (v0.5.8)**: VERSION file for centralized version management
- **NEW (v0.5.8)**: Enhanced pre-push hook with version validation
- **NEW (v0.5.8)**: Automated version checking and increment validation
- **ENHANCED (v0.5.4)**: Build script improvements with automatic Go environment setup
- **ENHANCED (v0.5.4)**: Environment variable loading from .env file for GitHub tokens
- **ENHANCED (v0.5.4)**: Improved git remote handling for GoReleaser publishing
- **ENHANCED (v0.5.4)**: Comprehensive installation documentation with platform-specific instructions
- **ENHANCED (v0.5.4)**: Windows Scoop setup guide with step-by-step PowerShell instructions
- **ENHANCED (v0.5.4)**: Custom installation directory support for Linux and macOS

## Next Steps
- **RELEASE v0.8.17**: Publish v0.8.17 release with GitHub Actions CI/CD pipeline implementation and git remote priority fix
- **MONITOR USAGE**: Monitor bump command usage and gather user feedback
- **ENHANCEMENT IDEAS**: Consider additional bump features based on user feedback
- **INSTALLER SYSTEM**: Monitor installer system for any edge cases or user feedback
- **PROJECT READY FOR USE**: All core functionality implemented and tested with library support
- **LIBRARY READY**: Core version functionality available as reusable library package
- **BUILD SYSTEM READY**: Conan build script fully functional for local development and cross-platform builds
- **PACKAGING READY**: Makeself, Scoop, and Homebrew distribution systems implemented and tested
- **DISTRIBUTION READY**: Self-extracting installers and package manager integration complete
- **BUILD SCRIPT ENHANCED**: Automatic Go environment setup and .env file loading working
- **DOCUMENTATION ENHANCED**: Comprehensive installation guides for all platforms
- **TESTING ENHANCED**: Exit code compliance tests and comprehensive performance testing framework implemented
- **REQUIRED**: GitHub Actions CI/CD pipeline for automated releases
- **REQUIRED**: Comprehensive test data sets for extended test coverage
- **COMPLETED**: Developer workflow documentation with complete release process
- **COMPLETED**: VERSION file for centralized version management
- **COMPLETED**: Enhanced pre-push hook with version validation
- Consider additional features based on user feedback
- Monitor for any edge cases in version parsing
- Prepare for distribution via GoReleaser when ready

## Active Decisions and Considerations
- **Changelog Management**: MANDATORY changelog updates for ANY documentation or code changes
- **Date Accuracy**: Historical entries use git log dates, current changes use host date
- **Changelog Rule**: Comprehensive rule-changelog.mdc created with detailed requirements
- **Install Command Documentation**: Simple installers use `INSTALL_DIR` environment variable, makeself installers use `APP_DIR` environment variable
- **Documentation Consistency**: All installation documentation must show correct environment variable format for each installer type
- **Build Script Output**: Build scripts should show both argument and environment variable formats for maximum clarity
- **Installer Cleanup Process**: Clean installers directory before creating new ones to prevent old version installers from being published
- **GoReleaser Integration**: Use glob patterns that match all installers, but ensure only current version installers exist in directory
- **Build Process Order**: Create install scripts → Clean installers directory → Create new installers → Run GoReleaser
- **Configuration File Support**: .project.yml takes precedence over git-based detection when present
- **CLI Options**: --config FILE for custom config files, --git for forcing git detection
- **Fallback Strategy**: Graceful fallback from .project.yml to git-based detection
- **Test Configuration**: Test files in test/ directory for different configuration scenarios
- **Self-Building System**: Version utility must use its own built binary for version detection during build process
- **Bootstrap Process**: Initial build must use git describe, subsequent builds use built version utility
- **Circular Dependency Resolution**: Eliminate dependency on git describe by using built version utility
- **Version Detection Strategy**: Use built version utility in scripts/ directory for all version operations
- **Auto-Download System**: Three-tier priority order for version detection: built utility → auto-download → git describe
- **Platform Detection**: Automatic detection of platform (linux/darwin) and architecture (amd64/arm64) for downloads
- **Simplified Download**: Use `wget -O - url | INSTALL_DIR=./scripts sh` pipe approach for streamlined installation
- **Latest Release URLs**: Use `/releases/latest/download/` URLs without version numbers for consistent downloads
- **Language Choice**: Go is already decided and specified in project requirements
- **Build System**: CMake + Conan + bash scripts as specified in docs/Project-specification.md
- **Distribution**: GoReleaser for cross-platform builds and distribution
- **Linux Packaging**: Makeself for self-extracting archives with professional installation experience ✅ IMPLEMENTED
- **Windows Packaging**: Scoop package manager for easy installation and updates ✅ IMPLEMENTED
- **macOS Packaging**: Makeself for self-extracting archives with professional installation experience ✅ IMPLEMENTED
- **Installer Naming**: Clean version numbers without SNAPSHOT and hex abbreviations ✅ IMPLEMENTED
- **Installation Approach**: No-sudo internal usage - users run with sudo if needed ✅ IMPLEMENTED
- **Build Script**: Automatic Go environment setup and .env file loading ✅ IMPLEMENTED
- **Documentation**: Comprehensive platform-specific installation guides ✅ IMPLEMENTED
- **Custom Installation**: Support for custom installation directories via APP_DIR environment variable ✅ IMPLEMENTED
- **Grammar**: Custom BNF grammar extending SemVer 2.0 with prerelease, postrelease, and intermediate identifiers
- **Compatibility**: Must maintain 100% compatibility with existing bash script interfaces

## Important Patterns and Preferences
- **Documentation First**: All decisions and patterns must be documented in Memory Bank
- **Cross-platform**: All code must work identically on Linux, Windows, and macOS
- **Minimal Dependencies**: Prefer standard library, avoid external dependencies unless justified
- **Test Coverage**: Comprehensive unit and integration tests required
- **Exit Codes**: POSIX-compliant exit codes (0 for success, >=1 for errors)
- **Library Design**: Core functionality should be reusable as library package
- **API Design**: Clean, well-documented public API with comprehensive examples

## Learnings and Project Insights
- Project has clear, well-defined requirements in docs/Project-specification.md
- Existing bash scripts provide a reference implementation to maintain compatibility
- Custom grammar requirements mean standard SemVer libraries cannot be used directly
- Build system complexity requires careful setup with CMake, Conan, and GoReleaser integration